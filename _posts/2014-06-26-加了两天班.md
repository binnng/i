---
layout: post
title:  "加了两天班"
date:   2014-06-26 09:00:00
categories: SMUDGE
---


连续加两天班，有些累。脑子里一片混沌，明显感到精神不佳，饮水，上厕所极度不规律，肩膀酸痛感加重。

工作和身体的重要性，不言而喻。一旦进入工作状态，整个人缩在工位上，似乎都封闭了自己，懒得动一下，更何况去倒杯水，上个厕所。

这个病，得改。

忙活两天的成果，今天得以「公布」，发了封全员邮件，附上内容如下：

HI, all：
 
分享下这两天为H5收银台性能优化所做的事情。
 
昨天主要做了本地服务搭建，为实现优化做些准备工作。
 
今天将部分优化结果放进实际开发机环境，以收银台绑卡页面为例，进行验证，测试统计后发现卓有成效，主要优化如下：
 
1.       JS加载网络请求数由原先的11个减少为1个。
2.       JS总大小由原先的80K减少为73K。
 
在无缓存情况，多次测试求均值，将优化方案在开发环境验证后，结果如下：
 
优化前：PC网络环境下页面加载平均要 474ms，模拟弱网络环境（速度要比2G快）下加载要3775ms
优化后：前者要 107ms，后者要2615ms
 
注：模拟弱网络环境使用软件在电脑限制网速，因为在开发环境测试，而手机2G网络（外网）无法访问开发环境。
 
 
另外，今天还和糯米客户端的RD对接了下，了解到两个有用信息：
1.       客户端内收银台页面初始化时，只要有资源在加载（网络请求）就一直有个“加载中”的浮层。
2.       页面展示出来的时机可能是等所有资源加载完后再展示，这点是不合理的，待客户端RD确认。
 
后续会继续进行些优化实践，测试结果并尽快给出目前来看最优方案。
 
以上，请各位知晓。